<div class="modal-dialog" style="width:30%;">
    <div class="modal-content">
        <div class="modal-header">
            <h4 class="modal-title">修改密码</h4>
        </div>
        <div class="modal-body">
            <form class="form-horizontal" id="userPasswordForm" role="form">
                <div class="form-group">
                    <div class="control-label col-sm-3">原密码</div>
                    <div class="col-sm-9">
                        <input required type="password" title="orionPassword" name="orionPassword" class="form-control" />
                    </div>
                </div>
                <div class="form-group">
                    <div class="control-label col-sm-3">新密码</div>
                    <div class="col-sm-9">
                        <input required type="password" title="password" id="users_password" name="users.password" class="form-control" />
                    </div>
                </div>
                <div class="form-group">
                    <div class="control-label col-sm-3">确认密码</div>
                    <div class="col-sm-9">
                        <input equalTo="#users_password" type="password" title="confirmPassword" name="confirmPassword" class="form-control" />
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer"></div>
    </div>
</div>
<script>
    $('#userPasswordModal').find('div.modal-footer').load('/page/common/addFooter.html');

    $('#userPasswordForm').validate({
       submitHandler : function(form){
           X.ajax($(form).serialize(),function(data){
               if(data.success){
                   $(form).closest('div.modal').modal('hide');
               }else{
                   X.dialog(data);
               }
           },'users/modifyPass');
       }
    });
</script>